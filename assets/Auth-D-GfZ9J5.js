import{s as e,j as s,C as a,I as t,B as n}from"./dashboards-BzIxZDf7.js";import{r as l,u as r}from"./vendor-BLPh2XG4.js";import{x as i,b as o,a3 as d,a4 as c,L as m,a5 as u,X as x,f as g,T as h,N as p,a as j,u as v}from"./ui-Dc2VBgM7.js";import"./supabase-wzm6nDUs.js";const b=!1,f=[{value:"Kapper",label:"Kapsalon",icon:"ðŸ’‡"},{value:"Nagels",label:"Nagelsalon",icon:"ðŸ’…"},{value:"Wimpers",label:"Wimper & Brow Studio",icon:"ðŸ‘ï¸"},{value:"Massage",label:"Massagesalon",icon:"ðŸ’†"},{value:"Gezichtsbehandeling",label:"Gezichtssalon",icon:"âœ¨"},{value:"Huidverzorging",label:"Huidverzorging",icon:"ðŸ§´"},{value:"Make-up",label:"Make-up Salon",icon:"ðŸ’„"},{value:"Overig",label:"Overig",icon:"ðŸª"}],N=({initialMode:N="login"})=>{const[w,y]=l.useState(N),[k,S]=l.useState("consumer"),[C,z]=l.useState(!1),[_,I]=l.useState(null),[E,V]=l.useState(""),[J,L]=l.useState(""),q=r(),[R,D]=l.useState(1),[P,A]=l.useState(""),[O,W]=l.useState(""),[T,U]=l.useState(""),[M,G]=l.useState(""),[K,B]=l.useState(""),[F,H]=l.useState(!1),[$,Z]=l.useState(""),[Q,X]=l.useState("idle"),[Y,ee]=l.useState(""),[se,ae]=l.useState(""),[te,ne]=l.useState(""),[le,re]=l.useState([]),[ie,oe]=l.useState(""),[de,ce]=l.useState(""),[me,ue]=l.useState(!1),[xe,ge]=l.useState(!1),[he,pe]=l.useState(null),[je,ve]=l.useState(null),[be,fe]=l.useState(""),[Ne,we]=l.useState(""),[ye,ke]=l.useState(null),[Se,Ce]=l.useState([]),[ze,_e]=l.useState(""),[Ie,Ee]=l.useState(""),[Ve,Je]=l.useState(!1),[Le,qe]=l.useState([]),[Re,De]=l.useState(""),[Pe,Ae]=l.useState(""),[Oe,We]=l.useState([{name:"",price:0,duration:30,category:""}]),Te=["gratistest"];l.useEffect(()=>{(async()=>{const{data:s,error:a}=await e.from("locations").select("*").order("city",{ascending:!0});a||re(s||[])})()},[]);const Ue=e=>e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");l.useEffect(()=>{if(O){const e=Ue(O);Z(e),Me(e)}else Z(""),X("idle")},[O]),l.useEffect(()=>{"salon"===new URLSearchParams(window.location.search).get("role")&&S("salon")},[]);const Me=async s=>{if(s)try{const{data:a,error:t}=await e.from("salons").select("subdomain").eq("subdomain",s).maybeSingle();if(t)return void X("available");X(a?"taken":"available")}catch(a){X("available")}else X("idle")},Ge=(e,s,a)=>{const t=[...Oe];t[e]={...t[e],[s]:a},We(t)},Ke=async()=>{var s,a;Ne&&(e=>{const s=e.toLowerCase().trim(),a=Te.includes(s);ke(a)})(Ne),z(!0),I(null);try{const{data:n,error:l}=await e.auth.signUp({email:T,password:M,options:{data:{full_name:P,role:"salon",phone:ie}}});if(l){if((null==(s=l.message)?void 0:s.includes("already registered"))||(null==(a=l.message)?void 0:a.includes("already exists")))throw new Error("Dit e-mailadres is al in gebruik. Probeer in te loggen of gebruik een ander e-mailadres.");throw l}if(!n.user)throw new Error("Gebruiker kon niet worden aangemaakt");if(!me||!he||!de.trim())throw new Error("Adres moet worden gevalideerd voordat je kunt registreren");if(await new Promise(e=>setTimeout(e,1e3)),n.session){const{error:s}=await e.from("profiles").upsert({id:n.user.id,email:T,full_name:P,role:"salon",phone:ie},{onConflict:"id"});await new Promise(e=>setTimeout(e,500));const a=de.match(/^(.+?),\s*(\d{4}\s*\w{2})\s+(.+)$/),l=a?a[1]:de,r=a?a[2]:"",i=a?a[3]:"",{data:o,error:d}=await e.from("salons").insert({owner_id:n.user.id,name:O,slug:$,subdomain:$,status:"pending",address:l,city:i,zip_code:r,phone:ie,description:ze,categories:Se,image_url:Ie||"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800",latitude:null==he?void 0:he.lat,longitude:null==he?void 0:he.lng}).select().single();if(d){if("23503"===d.code)throw new Error("Er ging iets mis met het aanmaken van je profiel. Probeer opnieuw in te loggen.");throw new Error("Salon aanmaken mislukt: "+d.message)}if(Le.length>0&&(null==o?void 0:o.id)){const s=Le.map(e=>({salon_id:o.id,name:e.name,description:e.description})),{error:a}=await e.from("service_categories").insert(s)}const c=Oe.filter(e=>e.name&&e.price>0);let m=[];if(c.length>0&&(null==o?void 0:o.id)){const s=c.map(e=>({salon_id:o.id,name:e.name,price:e.price,duration_minutes:e.duration,category:e.category||Se[0]||"Overig",active:!0})),{data:a,error:t}=await e.from("services").insert(s).select();t||(m=a||[])}if(null==o?void 0:o.id)try{const{data:s,error:a}=await e.from("staff").insert({salon_id:o.id,user_id:n.user.id,name:P,email:T,phone:ie,role:"owner"}).select().single();if(a);else if(m.length>0){const a=[];if(m.forEach(e=>{a.push({service_id:e.id,staff_id:s.id})}),a.length>0){const{error:s}=await e.from("service_staff").insert(a)}}}catch(t){}alert("Salon account aangemaakt! Je salon wordt gecontroleerd door de admin en is daarna zichtbaar."),q("/dashboard")}else{const e=de.match(/^(.+?),\s*(\d{4}\s*\w{2})\s+(.+)$/),s=e?e[1]:de,a=e?e[2]:"",t=e?e[3]:"";localStorage.setItem("pendingSalon",JSON.stringify({userId:n.user.id,salonName:O,subdomain:$,address:s,city:t,zip_code:a,phone:ie,ownerName:P,email:T,description:ze,categories:Se,imageUrl:Ie,latitude:null==he?void 0:he.lat,longitude:null==he?void 0:he.lng,services:Oe.filter(e=>e.name&&e.price>0),serviceCategories:Le})),alert("Check je email om je account te bevestigen. Daarna kun je inloggen en wordt je salon automatisch aangemaakt."),y("login")}}catch(n){I(n.message||"Registratie mislukt")}finally{z(!1)}},Be=()=>s.jsx("div",{className:"flex items-center justify-center mb-8 space-x-1",children:[1,2,3,4,5].map(e=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-2.5 w-2.5 rounded-full transition-colors "+(R>=e?"bg-brand-400":"bg-stone-200")}),e<6&&s.jsx("div",{className:"h-0.5 w-6 mx-0.5 "+(R>e?"bg-brand-400":"bg-stone-200")})]},e))});return s.jsxs("div",{className:"flex flex-col justify-center py-12 sm:px-6 lg:px-8 w-full",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"h-12 w-12 bg-brand-400 rounded-xl flex items-center justify-center text-white",children:s.jsx(i,{size:28})})}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-stone-900",children:"login"===w?"Welkom terug":"salon"===k?"Partner worden":"Maak een account aan"}),s.jsxs("p",{className:"mt-2 text-sm text-stone-600",children:["login"===w?"Nog geen account?":"Heb je al een account?"," "," ",s.jsx("button",{onClick:()=>{y("login"===w?"register":"login"),D(1),I(null)},className:"font-medium text-brand-600 hover:text-brand-500",children:"login"===w?"Registreer hier":"Log hier in"})]})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs(a,{className:"py-8 px-4 shadow sm:rounded-3xl sm:px-10",children:[_&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-xl flex items-center",children:[s.jsx(o,{size:16,className:"mr-2 shrink-0"}),_]}),"login"===w&&s.jsxs("form",{className:"space-y-6",onSubmit:async s=>{s.preventDefault(),z(!0),I(null);try{const{data:s,error:n}=await e.auth.signInWithPassword({email:E,password:J});if(n)throw n;const l=localStorage.getItem("pendingSalon");if(l&&s.user)try{const t=JSON.parse(l);if(t.userId===s.user.id){await e.from("profiles").upsert({id:s.user.id,email:E,full_name:t.ownerName,role:"salon",phone:t.phone},{onConflict:"id"}),await new Promise(e=>setTimeout(e,500));const{data:n}=await e.from("salons").select("id").eq("owner_id",s.user.id).maybeSingle();if(!n){const{data:n,error:l}=await e.from("salons").insert({owner_id:s.user.id,name:t.salonName,slug:t.subdomain,subdomain:t.subdomain,status:"pending",city:t.city,zip_code:t.zipCode,address:t.address,latitude:t.latitude,longitude:t.longitude,phone:t.phone,description:t.description,categories:t.categories,image_url:t.imageUrl}).select().single();if(l)alert("Let op: Je salon kon niet worden aangemaakt. Neem contact op met support. Error: "+l.message);else{if(t.serviceCategories&&t.serviceCategories.length>0&&(null==n?void 0:n.id)){const s=t.serviceCategories.map(e=>({salon_id:n.id,name:e.name,description:e.description})),{error:a}=await e.from("service_categories").insert(s)}let l=[];if(t.services&&t.services.length>0&&(null==n?void 0:n.id)){const s=t.services.map(e=>({salon_id:n.id,name:e.name,price:e.price,duration_minutes:e.duration,category:e.category||"Overig",active:!0})),{data:a,error:r}=await e.from("services").insert(s).select();r||(l=a||[])}if(null==n?void 0:n.id)try{const{data:a,error:r}=await e.from("staff").insert({salon_id:n.id,user_id:s.user.id,name:t.ownerName,email:t.email||s.user.email,phone:t.phone,role:"owner"}).select().single();if(r);else if(l.length>0){const s=[];if(l.forEach(e=>{s.push({service_id:e.id,staff_id:a.id})}),s.length>0){const{error:a}=await e.from("service_staff").insert(s)}}}catch(a){}alert("Je salon is aangemaakt en wacht op goedkeuring van de admin.")}}localStorage.removeItem("pendingSalon")}}catch(t){localStorage.removeItem("pendingSalon")}q("/dashboard")}catch(n){I(n.message||"Inloggen mislukt")}finally{z(!1)}},children:[s.jsx(t,{label:"E-mailadres",type:"email",placeholder:"naam@voorbeeld.nl",required:!0,value:E,onChange:e=>V(e.target.value)}),s.jsx(t,{label:"Wachtwoord",type:"password",required:!0,value:J,onChange:e=>L(e.target.value)}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"text-sm",children:s.jsx("a",{href:"#",className:"font-medium text-brand-600 hover:text-brand-500",children:"Wachtwoord vergeten?"})})}),s.jsx(n,{type:"submit",className:"w-full",isLoading:C,children:"Inloggen"})]}),"register"===w&&s.jsxs(s.Fragment,{children:[1===R&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1 bg-stone-100 rounded-xl mb-6",children:[s.jsx("button",{type:"button",onClick:()=>S("consumer"),className:"py-2 text-sm font-medium rounded-lg transition-all "+("consumer"===k?"bg-white shadow text-stone-900":"text-stone-500 hover:text-stone-900"),children:"Consument"}),s.jsx("button",{type:"button",onClick:()=>S("salon"),className:"py-2 text-sm font-medium rounded-lg transition-all "+("salon"===k?"bg-white shadow text-stone-900":"text-stone-500 hover:text-stone-900"),children:"Salon Eigenaar"})]}),"consumer"===k&&s.jsxs("form",{className:"space-y-6",onSubmit:async s=>{if(s.preventDefault(),z(!0),I(null),!K||0===K.trim().length)return I("Vul je telefoonnummer in"),void z(!1);try{const{data:s,error:t}=await e.auth.signUp({email:T,password:M,options:{data:{full_name:P,role:"consumer",phone:K,allow_contact_email:F}}});if(t)throw t;if(s.user&&s.session)try{await e.from("profiles").upsert({id:s.user.id,email:T,full_name:P,role:"consumer",phone:K,allow_contact_email:F},{onConflict:"id"})}catch(a){}s.session?q("/dashboard"):y("login")}catch(a){I(a.message||"Registratie mislukt")}finally{z(!1)}},children:[s.jsx(t,{label:"Volledige naam",placeholder:"Jan Jansen",required:!0,value:P,onChange:e=>A(e.target.value)}),s.jsx(t,{label:"E-mailadres",type:"email",placeholder:"naam@voorbeeld.nl",required:!0,value:T,onChange:e=>U(e.target.value)}),s.jsx(t,{label:"Telefoonnummer",type:"tel",placeholder:"06 1234 5678",required:!0,value:K,onChange:e=>B(e.target.value)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"allow-contact",type:"checkbox",checked:F,onChange:e=>H(e.target.checked),className:"w-4 h-4 rounded border-stone-200"}),s.jsx("label",{htmlFor:"allow-contact",className:"text-sm text-stone-600",children:"Ik geef toestemming dat salons mij per e-mail mogen contacteren (aanbiedingen / afspraakherinneringen)"})]}),s.jsx(t,{label:"Wachtwoord",type:"password",required:!0,value:M,onChange:e=>G(e.target.value)}),s.jsx(n,{type:"submit",className:"w-full",isLoading:C,children:"Registreren"})]}),"salon"===k&&s.jsxs("div",{children:[s.jsx(Be,{}),s.jsxs("form",{onSubmit:6===R?e=>{e.preventDefault(),Ke()}:e=>{if(e.preventDefault(),1===R){if("taken"===Q)return void alert("Kies een unieke URL voor je salon.");if(!(P&&O&&T&&M))return void alert("Vul alle velden in.")}if(2===R){if(!de.trim()||!me||!he)return void alert("Voer een geldig adres in en klik op 'Controleren' om het te valideren.");if(!ie)return void alert("Vul je telefoonnummer in.")}if(3===R){if(0===Se.length)return void alert("Selecteer een categorie voor je salon.");if(!ze||ze.length<20)return void alert("Voeg een beschrijving toe (minimaal 20 karakters).")}if(5===R){if(0===Oe.filter(e=>e.name&&e.price>0).length)return void alert("Voeg minimaal 1 dienst toe met naam en prijs.")}D(e=>e+1)},children:[1===R&&s.jsxs("div",{className:"space-y-5 animate-fadeIn",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-stone-900",children:"Maak je account"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Stap 1 van 5"})]}),s.jsx(t,{label:"Jouw Naam",placeholder:"Eigenaar naam",required:!0,value:P,onChange:e=>A(e.target.value)}),s.jsx(t,{label:"Salon Naam",placeholder:"Naam van je salon",required:!0,value:O,onChange:e=>W(e.target.value)}),s.jsxs("div",{className:"w-full",children:[s.jsx("label",{className:"mb-2 block text-sm font-medium text-stone-700",children:"Jouw Salon URL"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex rounded-xl shadow-sm ring-1 ring-inset ring-stone-200 focus-within:ring-2 focus-within:ring-inset focus-within:ring-brand-400",children:[s.jsx("input",{type:"text",className:"block flex-1 border-0 bg-transparent py-2.5 pl-3 pr-2 text-stone-900 placeholder:text-stone-400 focus:ring-0 sm:text-sm sm:leading-6 font-medium",placeholder:"salon-naam",value:$,onChange:e=>{const s=Ue(e.target.value);Z(s),Me(s)},required:!0}),s.jsx("span",{className:"flex select-none items-center pr-3 text-stone-400 sm:text-sm bg-stone-50 border-l border-stone-200 rounded-r-xl",children:".mijnbeautyafspraken.nl"})]}),"available"===Q&&$&&s.jsx("div",{className:"absolute right-[190px] top-3 text-green-500 pointer-events-none",children:s.jsx(d,{size:16})})]})]}),s.jsx(t,{label:"E-mailadres",type:"email",required:!0,value:T,onChange:e=>U(e.target.value)}),s.jsx(t,{label:"Wachtwoord",type:"password",required:!0,value:M,onChange:e=>G(e.target.value)}),s.jsxs(n,{type:"submit",className:"w-full mt-4",disabled:"taken"===Q||!$,children:["Volgende ",s.jsx(c,{size:16,className:"ml-2"})]})]}),2===R&&s.jsxs("div",{className:"space-y-5 animate-fadeIn",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-stone-900",children:"Salon Locatie"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Stap 2 van 6 - Waar kunnen klanten je vinden?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Volledig Adres *"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(t,{placeholder:"Kerkstraat 12, 1234 AB Amsterdam",value:de,onChange:e=>{ce(e.target.value),ue(!1),pe(null)},className:"flex-1"}),s.jsx(n,{onClick:async()=>{if(de.trim()){ge(!0);try{const e=await(async e=>{try{const s=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e+", Netherlands")}&limit=1`),a=await s.json();if(a.length>0)return{lat:parseFloat(a[0].lat),lng:parseFloat(a[0].lon)}}catch(s){}return null})(de.trim());e?(pe(e),ue(!0),alert("Adres gevonden! Het adres is geldig.")):(pe(null),ue(!1),alert("Adres niet gevonden. Controleer het adres en probeer opnieuw."))}catch(e){pe(null),ue(!1),alert("Fout bij het controleren van het adres. Probeer het opnieuw.")}finally{ge(!1)}}else alert("Voer een volledig adres in")},disabled:xe||!de.trim(),variant:"outline",children:xe?s.jsx(m,{size:16,className:"animate-spin"}):"Controleren"})]}),s.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"Voer je volledige adres in en klik op 'Controleren' om te valideren"})]}),me&&he&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center text-green-800",children:[s.jsx(d,{size:20,className:"mr-2"}),s.jsx("span",{className:"font-medium",children:"Adres gevonden!"})]})}),s.jsx("div",{children:s.jsx(t,{label:"Telefoonnummer (Zakelijk) *",placeholder:"020 - 123 45 67",required:!0,value:ie,onChange:e=>oe(e.target.value)})}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(n,{type:"button",variant:"outline",onClick:()=>D(1),children:s.jsx(u,{size:16})}),s.jsxs(n,{type:"submit",className:"flex-1",children:["Volgende ",s.jsx(c,{size:16,className:"ml-2"})]})]})]}),3===R&&s.jsxs("div",{className:"space-y-5 animate-fadeIn",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-stone-900",children:"Salon Profiel"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Stap 3 van 6 - Laat je salon zien!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Type Salon * (meerdere mogelijk)"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(e=>s.jsxs("label",{className:"p-3 rounded-xl border-2 cursor-pointer transition-all flex items-center "+(Se.includes(e.value)?"border-brand-400 bg-brand-50 text-brand-700":"border-stone-200 hover:border-brand-200 text-stone-600"),children:[s.jsx("input",{type:"checkbox",checked:Se.includes(e.value),onChange:s=>{s.target.checked?Ce(s=>[...s,e.value]):Ce(s=>s.filter(s=>s!==e.value))},className:"mr-2"}),s.jsx("span",{className:"text-lg mr-2",children:e.icon}),s.jsx("span",{className:"text-sm font-medium",children:e.label})]},e.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Beschrijving *"}),s.jsx("textarea",{placeholder:"Vertel iets over je salon... Wat maakt jouw salon uniek? Welke sfeer kunnen klanten verwachten?",value:ze,onChange:e=>_e(e.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl border border-stone-200 text-sm outline-none focus:ring-2 focus:ring-brand-400 resize-none"}),s.jsxs("p",{className:"text-xs text-stone-400 mt-1",children:[ze.length,"/500 karakters (min. 20)"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Salon Afbeelding"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Afbeelding URL (optioneel)"}),s.jsx(t,{type:"url",placeholder:"https://example.com/afbeelding.jpg",value:Ie,onChange:e=>Ee(e.target.value),className:"text-sm"}),s.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"Plak een link naar je salon afbeelding"})]}),Ie&&s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:Ie,alt:"Salon preview",className:"w-32 h-32 object-cover rounded-lg border border-stone-200",onError:()=>{alert("Deze afbeelding URL werkt niet. Controleer de link."),Ee("")}}),s.jsx("button",{type:"button",onClick:()=>Ee(""),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(x,{size:12})})]})]}),s.jsx("p",{className:"text-xs text-stone-400 mt-2",children:"Optioneel - Je kunt dit later wijzigen in je dashboard onder 'Instellingen'"})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(n,{type:"button",variant:"outline",onClick:()=>D(2),children:s.jsx(u,{size:16})}),s.jsxs(n,{type:"submit",className:"flex-1",children:["Volgende ",s.jsx(c,{size:16,className:"ml-2"})]})]})]}),4===R&&s.jsxs("div",{className:"space-y-5 animate-fadeIn",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-stone-900",children:"Dienst CategorieÃ«n"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Stap 4 van 6 - Organiseer je diensten (optioneel)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-stone-50 rounded-xl border border-stone-200",children:[s.jsx("h4",{className:"font-medium text-stone-900 mb-3",children:"Nieuwe categorie toevoegen"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(t,{placeholder:"Categorienaam (bijv. Vrouwen knippen)",value:Re,onChange:e=>De(e.target.value)}),s.jsx("textarea",{placeholder:"Korte beschrijving (optioneel)",value:Pe,onChange:e=>Ae(e.target.value),rows:2,className:"w-full px-4 py-3 rounded-xl border border-stone-200 text-sm outline-none focus:ring-2 focus:ring-brand-400 resize-none"}),s.jsxs(n,{onClick:()=>{Re.trim()?Le.some(e=>e.name.toLowerCase()===Re.toLowerCase())?alert("Deze categorie bestaat al"):(qe(e=>[...e,{name:Re.trim(),description:Pe.trim()}]),De(""),Ae("")):alert("Voer een categorienaam in")},disabled:!Re.trim(),className:"w-full",children:[s.jsx(g,{size:16,className:"mr-2"}),"Categorie toevoegen"]})]})]}),Le.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-stone-900",children:"Jouw categorieÃ«n"}),Le.map((e,a)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-stone-200",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-stone-900",children:e.name}),e.description&&s.jsx("p",{className:"text-sm text-stone-500 mt-1",children:e.description})]}),s.jsx("button",{type:"button",onClick:()=>(e=>{qe(s=>s.filter((s,a)=>a!==e))})(a),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:s.jsx(h,{size:16})})]},a))]}),s.jsx("p",{className:"text-xs text-stone-400 text-center",children:"Je kunt categorieÃ«n later altijd nog toevoegen of wijzigen in je dashboard"})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(n,{type:"button",variant:"outline",onClick:()=>D(3),children:s.jsx(u,{size:16})}),s.jsxs(n,{type:"submit",className:"flex-1",children:[Le.length>0?"Volgende":"Overslaan"," ",s.jsx(c,{size:16,className:"ml-2"})]})]})]}),5===R&&s.jsxs("div",{className:"space-y-5 animate-fadeIn",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-stone-900",children:"Je Diensten"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Stap 5 van 6 - Voeg minimaal 1 dienst toe"})]}),s.jsx("div",{className:"space-y-4",children:Oe.map((e,a)=>s.jsxs("div",{className:"p-4 bg-stone-50 rounded-xl border border-stone-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-stone-700",children:["Dienst ",a+1]}),Oe.length>1&&s.jsx("button",{type:"button",onClick:()=>(e=>{Oe.length<=1?alert("Je moet minimaal 1 dienst toevoegen."):We(Oe.filter((s,a)=>a!==e))})(a),className:"p-1 text-red-500 hover:bg-red-50 rounded",children:s.jsx(h,{size:16})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Naam van dienst (bv. Knippen)",value:e.name,onChange:e=>Ge(a,"name",e.target.value),className:"w-full h-10 px-3 rounded-lg border border-stone-200 text-sm outline-none focus:ring-2 focus:ring-brand-400"}),s.jsxs("select",{value:e.category,onChange:e=>Ge(a,"category",e.target.value),className:"w-full h-10 px-3 rounded-lg border border-stone-200 text-sm outline-none focus:ring-2 focus:ring-brand-400 bg-white",children:[s.jsx("option",{value:"",children:"Selecteer categorie..."}),Le.map(e=>s.jsx("option",{value:e.name,children:e.name},e.name)),s.jsx("option",{value:"Overig",children:"Overig"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(p,{size:14,className:"absolute left-3 top-3 text-stone-400"}),s.jsx("input",{type:"number",placeholder:"Prijs",value:e.price||"",onChange:e=>Ge(a,"price",Number(e.target.value)),className:"w-full h-10 pl-8 pr-3 rounded-lg border border-stone-200 text-sm outline-none focus:ring-2 focus:ring-brand-400"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(j,{size:14,className:"absolute left-3 top-3 text-stone-400"}),s.jsx("input",{type:"number",min:1,step:1,value:e.duration,onChange:e=>Ge(a,"duration",Number(e.target.value)),className:"w-full h-10 pl-8 pr-3 rounded-lg border border-stone-200 text-sm outline-none focus:ring-2 focus:ring-brand-400 bg-white"})]})]})]})]},a))}),Oe.length<5&&s.jsxs("button",{type:"button",onClick:()=>{Oe.length>=5?alert("Je kunt maximaal 5 diensten toevoegen tijdens registratie. Meer diensten kun je later toevoegen."):We([...Oe,{name:"",price:0,duration:30,category:""}])},className:"w-full py-3 border-2 border-dashed border-stone-200 rounded-xl text-stone-500 hover:border-brand-300 hover:text-brand-500 transition-colors flex items-center justify-center gap-2",children:[s.jsx(g,{size:18})," Nog een dienst toevoegen"]}),s.jsx("p",{className:"text-xs text-stone-400 text-center",children:"Je kunt later meer diensten toevoegen in je dashboard"}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(n,{type:"button",variant:"outline",onClick:()=>D(4),children:s.jsx(u,{size:16})}),s.jsxs(n,{type:"submit",className:"flex-1",children:["Volgende ",s.jsx(c,{size:16,className:"ml-2"})]})]})]}),6===R&&s.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[s.jsxs("div",{className:"text-center mb-2",children:[s.jsx("h3",{className:"text-lg font-bold text-stone-900",children:"Bevestig Registratie"}),s.jsx("p",{className:"text-sm text-stone-500",children:"Stap 6 van 6 - Controleer je gegevens"})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-stone-200",children:[Ie?s.jsx("img",{src:Ie,alt:"Salon",className:"w-12 h-12 rounded-lg object-cover"}):s.jsx("div",{className:"w-12 h-12 rounded-lg bg-brand-100 flex items-center justify-center text-2xl",children:f.filter(e=>Se.includes(e.value)).map(e=>e.icon).join(" ")||"âœ¨"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-stone-900",children:O}),s.jsx("p",{className:"text-xs text-stone-500",children:f.filter(e=>Se.includes(e.value)).map(e=>e.label).join(", ")})]})]}),s.jsxs("div",{className:"text-sm text-stone-600 space-y-1",children:[s.jsxs("p",{children:["ðŸ“ ",de]}),s.jsxs("p",{children:["ðŸ“§ ",T]}),s.jsxs("p",{children:["ðŸ“ž ",ie]}),s.jsxs("p",{children:["ðŸŒ ",$,".mijnbeautyafspraken.nl"]})]}),s.jsxs("div",{className:"pt-2 border-t border-stone-200",children:[s.jsxs("p",{className:"text-xs font-medium text-stone-500 mb-1",children:[Oe.length," dienst",1!==Oe.length?"en":""," toegevoegd:"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Oe.map((e,a)=>s.jsxs("span",{className:"text-xs bg-white px-2 py-1 rounded border border-stone-200",children:[e.name," â€¢ â‚¬",e.price]},a))})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-4 text-center",children:[s.jsx("div",{className:"text-sm font-semibold text-green-600 mb-1",children:"ðŸŽ‰ GRATIS REGISTRATIE"}),s.jsx("div",{className:"text-xl font-bold text-stone-900 mb-2",children:"Je salon is bijna klaar!"}),s.jsxs("ul",{className:"text-sm text-stone-600 space-y-1 text-left px-4",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(v,{size:14,className:"text-green-500 mr-2"})," Volledig gratis â€” geen abonnementskosten voor salons"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(v,{size:14,className:"text-green-500 mr-2"})," Je salon wordt zichtbaar na goedkeuring"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(v,{size:14,className:"text-green-500 mr-2"})," Direct toegang tot je dashboard"]})]})]}),b,b,s.jsxs("div",{className:"flex gap-3",children:[s.jsx(n,{type:"button",variant:"outline",onClick:()=>D(5),children:s.jsx(u,{size:16})}),s.jsx(n,{type:"submit",className:"flex-1",isLoading:C,disabled:b,children:"Gratis Registreren"})]})]})]})]})]})]})})]})};export{N as AuthPage};
